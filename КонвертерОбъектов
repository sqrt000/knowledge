Функция ИзРезультатаЗапросаВМассивСтруктур(РезультатЗапроса) Экспорт
  
  МассивСтрок = Новый Массив;
  
  Если РезультатЗапроса.Пустой() Тогда
    Возврат МассивСтрок;
  КонецЕсли;
  
  Выборка = РезультатЗапроса.Выбрать();
  Пока Выборка.Следующий() Цикл
    СтрокаПриемник = Новый Структура;
    
    Для Каждого Колонка Из РезультатЗапроса.Колонки Цикл    
      Если ТипЗнч(Выборка[Колонка.Имя]) = Тип("РезультатЗапроса") Тогда
        СтрокаПриемник.Вставить(Колонка.Имя, ИзРезультатаЗапросаВМассивСтруктур(Выборка[Колонка.Имя]));  
      Иначе
        СтрокаПриемник.Вставить(Колонка.Имя, Выборка[Колонка.Имя]);
      КонецЕсли;
    КонецЦикла;
    
    МассивСтрок.Добавить(СтрокаПриемник);
  КонецЦикла;
    
  Возврат МассивСтрок;
    
КонецФункции
